import './polyfills.server.mjs';
import{$ as de,A as m,B as xe,C as E,D as a,E as s,F as f,G as Xe,H as Ye,I as le,J as Je,K as p,L as Qe,M as ue,N as X,O as l,P as D,Q as V,R as v,S as Pe,T as et,U as tt,a as k,aa as it,b as We,ba as Ne,c as qe,d as Ke,da as B,e as j,ea as ce,f as re,fa as y,g as C,ga as I,h as oe,ha as nt,i as U,ia as rt,j as F,ja as ot,k as g,ka as st,l as se,m as b,n as Fe,na as at,o as q,p as K,q as Z,r as ae,ra as he,s as Ae,sa as O,t as Ie,u as d,ua as lt,v as u,va as me,w as Ze,wa as ut,x as T,y as M,z as Oe}from"./chunk-IA57WTXB.mjs";import{a as A,b as R}from"./chunk-KRLCULJA.mjs";var qt=i=>["/display-movies/",i],fe=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=g({type:e,selectors:[["app-film-item"]],inputs:{film:"film",isFav:"isFav"},standalone:!0,features:[v],decls:5,vars:5,consts:[[1,"container-fluid","film",3,"routerLink"],["alt","...",1,"film-img",3,"src"],[1,"film-title"]],template:function(n,o){n&1&&(a(0,"div",0),f(1,"img",1),a(2,"h1",2),l(3),s()(),f(4,"router-outlet")),n&2&&(m("routerLink",et(3,qt,o.film==null?null:o.film.id)),d(1),ue("src","https://image.tmdb.org/t/p/w400",o.film==null?null:o.film.poster_path,"",ae),d(2),D(o.film==null?null:o.film.title))},dependencies:[y,me,O],styles:[".film[_ngcontent-%COMP%]{width:80%;height:100%;padding:2rem;border-radius:.3rem}.film[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.05);transition:all .3s ease-in-out}.film-img[_ngcontent-%COMP%]{position:relative;height:18rem;left:50%;transform:translate(-50%)}.film-title[_ngcontent-%COMP%]{color:#f0f0f0;text-shadow:0 0 .5rem rgb(255,255,255);font-size:1.5rem;font-weight:700;padding:1rem 0;text-align:center;text-transform:capitalize}.film-description[_ngcontent-%COMP%]{color:#f0f0f0;font-size:.7rem;font-weight:400;padding:.2rem 0;text-align:justify}"]});let i=e;return i})();var S=(()=>{let e=class e{constructor(t){this.httpclient=t,this.baseUrl="https://api.themoviedb.org/3/movie/popular",this.apiKey="56753d778f609fd0ca63cd3a10a503f6"}getAllMovies(){return this.httpclient.get(`${this.baseUrl}?api_key=${this.apiKey}`)}getMovieById(t){return this.httpclient.get(`https://api.themoviedb.org/3/movie/${t}?api_key=${this.apiKey}`)}searchMovies(t){let n=`https://api.themoviedb.org/3/search/movie?api_key=${this.apiKey}&query=${t}`;return this.httpclient.get(n)}};e.\u0275fac=function(n){return new(n||e)(F(I))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var yt=(()=>{let e=class e{constructor(t,n){this._renderer=t,this._elementRef=n,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,n){this._renderer.setProperty(this._elementRef.nativeElement,t,n)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}};e.\u0275fac=function(n){return new(n||e)(u(Ie),u(Ae))},e.\u0275dir=b({type:e});let i=e;return i})(),Kt=(()=>{let e=class e extends yt{};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=Z(e)))(o||e)}})(),e.\u0275dir=b({type:e,features:[M]});let i=e;return i})(),_t=new U("NgValueAccessor");var Zt={provide:_t,useExisting:j(()=>x),multi:!0};function Xt(){let i=Ne()?Ne().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var Yt=new U("CompositionEventMode"),x=(()=>{let e=class e extends yt{constructor(t,n,o){super(t,n),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Xt())}writeValue(t){let n=t??"";this.setProperty("value",n)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}};e.\u0275fac=function(n){return new(n||e)(u(Ie),u(Ae),u(Yt,8))},e.\u0275dir=b({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,o){n&1&&p("input",function(c){return o._handleInput(c.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(c){return o._compositionEnd(c.target.value)})},features:[V([Zt]),M]});let i=e;return i})();function Te(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function Jt(i){return i!=null&&typeof i.length=="number"}var te=new U("NgValidators"),Ct=new U("NgAsyncValidators"),Qt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function ei(i){return Te(i.value)?{required:!0}:null}function ti(i){return Te(i.value)||Qt.test(i.value)?null:{email:!0}}function ii(i){return e=>Te(e.value)||!Jt(e.value)?null:e.value.length<i?{minlength:{requiredLength:i,actualLength:e.value.length}}:null}function dt(i){return null}function bt(i){return i!=null}function Vt(i){return Je(i)?We(i):i}function Dt(i){let e={};return i.forEach(r=>{e=r!=null?A(A({},e),r):e}),Object.keys(e).length===0?null:e}function Mt(i,e){return e.map(r=>r(i))}function ni(i){return!i.validate}function Et(i){return i.map(e=>ni(e)?e:r=>e.validate(r))}function ri(i){if(!i)return null;let e=i.filter(bt);return e.length==0?null:function(r){return Dt(Mt(r,e))}}function Ge(i){return i!=null?ri(Et(i)):null}function oi(i){if(!i)return null;let e=i.filter(bt);return e.length==0?null:function(r){let t=Mt(r,e).map(Vt);return Ke(t).pipe(qe(Dt))}}function Re(i){return i!=null?oi(Et(i)):null}function ct(i,e){return i===null?[e]:Array.isArray(i)?[...i,e]:[i,e]}function si(i){return i._rawValidators}function ai(i){return i._rawAsyncValidators}function je(i){return i?Array.isArray(i)?i:[i]:[]}function ve(i,e){return Array.isArray(i)?i.includes(e):i===e}function ht(i,e){let r=je(e);return je(i).forEach(n=>{ve(r,n)||r.push(n)}),r}function mt(i,e){return je(e).filter(r=>!ve(i,r))}var ye=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ge(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Re(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,r){return this.control?this.control.hasError(e,r):!1}getError(e,r){return this.control?this.control.getError(e,r):null}},L=class extends ye{get formDirective(){return null}get path(){return null}},ee=class extends ye{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},_e=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},li={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},cn=R(A({},li),{"[class.ng-submitted]":"isSubmitted"}),$=(()=>{let e=class e extends _e{constructor(t){super(t)}};e.\u0275fac=function(n){return new(n||e)(u(ee,2))},e.\u0275dir=b({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,o){n&2&&xe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[M]});let i=e;return i})(),Ve=(()=>{let e=class e extends _e{constructor(t){super(t)}};e.\u0275fac=function(n){return new(n||e)(u(L,10))},e.\u0275dir=b({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,o){n&2&&xe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[M]});let i=e;return i})();var Y="VALID",ge="INVALID",H="PENDING",J="DISABLED";function St(i){return(De(i)?i.validators:i)||null}function ui(i){return Array.isArray(i)?Ge(i):i||null}function wt(i,e){return(De(e)?e.asyncValidators:i)||null}function di(i){return Array.isArray(i)?Re(i):i||null}function De(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function ci(i,e,r){let t=i.controls;if(!(e?Object.keys(t):t).length)throw new re(1e3,"");if(!t[r])throw new re(1001,"")}function hi(i,e,r){i._forEachChild((t,n)=>{if(r[n]===void 0)throw new re(1002,"")})}var Ce=class{constructor(e,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Y}get invalid(){return this.status===ge}get pending(){return this.status==H}get disabled(){return this.status===J}get enabled(){return this.status!==J}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ht(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ht(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(mt(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(mt(e,this._rawAsyncValidators))}hasValidator(e){return ve(this._rawValidators,e)}hasAsyncValidator(e){return ve(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=H,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=J,this.errors=null,this._forEachChild(t=>{t.disable(R(A({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(R(A({},e),{skipPristineCheck:r})),this._onDisabledChange.forEach(t=>t(!0))}enable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=Y,this._forEachChild(t=>{t.enable(R(A({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(R(A({},e),{skipPristineCheck:r})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Y||this.status===H)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?J:Y}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=H,this._hasOwnPendingAsyncValidator=!0;let r=Vt(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,r={}){this.errors=e,this._updateControlsErrors(r.emitEvent!==!1)}get(e){let r=e;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((t,n)=>t&&t._find(n),this)}getError(e,r){let t=r?this.get(r):this;return t&&t.errors?t.errors[e]:null}hasError(e,r){return!!this.getError(e,r)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new T,this.statusChanges=new T}_calculateStatus(){return this._allControlsDisabled()?J:this.errors?ge:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(H)?H:this._anyControlsHaveStatus(ge)?ge:Y}_anyControlsHaveStatus(e){return this._anyControls(r=>r.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){De(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let r=this._parent&&this._parent.dirty;return!e&&!!r&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=ui(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=di(this._rawAsyncValidators)}},be=class extends Ce{constructor(e,r,t){super(St(r),wt(t,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,r){return this.controls[e]?this.controls[e]:(this.controls[e]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(e,r,t={}){this.registerControl(e,r),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(e,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(e,r,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],r&&this.registerControl(e,r),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,r={}){hi(this,!0,e),Object.keys(e).forEach(t=>{ci(this,!0,t),this.controls[t].setValue(e[t],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){e!=null&&(Object.keys(e).forEach(t=>{let n=this.controls[t];n&&n.patchValue(e[t],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e={},r={}){this._forEachChild((t,n)=>{t.reset(e?e[n]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(e,r,t)=>(e[t]=r.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(r,t)=>t._syncPendingControls()?!0:r);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(r=>{let t=this.controls[r];t&&e(t,r)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[r,t]of Object.entries(this.controls))if(this.contains(r)&&e(t))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(r,t,n)=>((t.enabled||this.disabled)&&(r[n]=t.value),r))}_reduceChildren(e,r){let t=e;return this._forEachChild((n,o)=>{t=r(t,n,o)}),t}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ue=new U("CallSetDisabledState",{providedIn:"root",factory:()=>Be}),Be="always";function mi(i,e){return[...e.path,i]}function Ft(i,e,r=Be){At(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||r==="always")&&e.valueAccessor.setDisabledState?.(i.disabled),pi(i,e),vi(i,e),gi(i,e),fi(i,e)}function ft(i,e){i.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(e)})}function fi(i,e){if(e.valueAccessor.setDisabledState){let r=t=>{e.valueAccessor.setDisabledState(t)};i.registerOnDisabledChange(r),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(r)})}}function At(i,e){let r=si(i);e.validator!==null?i.setValidators(ct(r,e.validator)):typeof r=="function"&&i.setValidators([r]);let t=ai(i);e.asyncValidator!==null?i.setAsyncValidators(ct(t,e.asyncValidator)):typeof t=="function"&&i.setAsyncValidators([t]);let n=()=>i.updateValueAndValidity();ft(e._rawValidators,n),ft(e._rawAsyncValidators,n)}function pi(i,e){e.valueAccessor.registerOnChange(r=>{i._pendingValue=r,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&It(i,e)})}function gi(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&It(i,e),i.updateOn!=="submit"&&i.markAsTouched()})}function It(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function vi(i,e){let r=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};i.registerOnChange(r),e._registerOnDestroy(()=>{i._unregisterOnChange(r)})}function yi(i,e){i==null,At(i,e)}function _i(i,e){if(!i.hasOwnProperty("model"))return!1;let r=i.model;return r.isFirstChange()?!0:!Object.is(e,r.currentValue)}function Ci(i){return Object.getPrototypeOf(i.constructor)===Kt}function bi(i,e){i._syncPendingControls(),e.forEach(r=>{let t=r.control;t.updateOn==="submit"&&t._pendingChange&&(r.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function Vi(i,e){if(!e)return null;Array.isArray(e);let r,t,n;return e.forEach(o=>{o.constructor===x?r=o:Ci(o)?t=o:n=o}),n||t||r||null}var Di={provide:L,useExisting:j(()=>ie)},Q=(()=>Promise.resolve())(),ie=(()=>{let e=class e extends L{constructor(t,n,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new T,this.form=new be({},Ge(t),Re(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Q.then(()=>{let n=this._findContainer(t.path);t.control=n.registerControl(t.name,t.control),Ft(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Q.then(()=>{let n=this._findContainer(t.path);n&&n.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Q.then(()=>{let n=this._findContainer(t.path),o=new be({});yi(o,t),n.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Q.then(()=>{let n=this._findContainer(t.path);n&&n.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,n){Q.then(()=>{this.form.get(t.path).setValue(n)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,bi(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}};e.\u0275fac=function(n){return new(n||e)(u(te,10),u(Ct,10),u(Ue,8))},e.\u0275dir=b({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,o){n&1&&p("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[V([Di]),M]});let i=e;return i})();function pt(i,e){let r=i.indexOf(e);r>-1&&i.splice(r,1)}function gt(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var Mi=class extends Ce{constructor(e=null,r,t){super(St(r),wt(t,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),De(r)&&(r.nonNullable||r.initialValueIsDefault)&&(gt(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,r={}){this.value=this._pendingValue=e,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(e,r={}){this.setValue(e,r)}reset(e=this.defaultValue,r={}){this._applyFormState(e),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){pt(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){pt(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){gt(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Ei={provide:ee,useExisting:j(()=>G)},vt=(()=>Promise.resolve())(),G=(()=>{let e=class e extends ee{constructor(t,n,o,h,c,w){super(),this._changeDetectorRef=c,this.callSetDisabledState=w,this.control=new Mi,this._registered=!1,this.name="",this.update=new T,this._parent=t,this._setValidators(n),this._setAsyncValidators(o),this.valueAccessor=Vi(this,h)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let n=t.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),_i(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ft(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){vt.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let n=t.isDisabled.currentValue,o=n!==0&&de(n);vt.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?mi(t,this._parent):[t]}};e.\u0275fac=function(n){return new(n||e)(u(L,9),u(te,10),u(Ct,10),u(_t,10),u(Ze,8),u(Ue,8))},e.\u0275dir=b({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[V([Ei]),M,Fe]});let i=e;return i})(),Me=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=b({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let i=e;return i})();var Si=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=se({type:e}),e.\u0275inj=oe({});let i=e;return i})();function wi(i){return typeof i=="number"?i:parseInt(i,10)}var He=(()=>{let e=class e{constructor(){this._validator=dt}ngOnChanges(t){if(this.inputName in t){let n=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):dt,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=b({type:e,features:[Fe]});let i=e;return i})();var Fi={provide:te,useExisting:j(()=>ne),multi:!0};var ne=(()=>{let e=class e extends He{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=de,this.createValidator=t=>ei}enabled(t){return t}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=Z(e)))(o||e)}})(),e.\u0275dir=b({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,o){n&2&&Oe("required",o._enabled?"":null)},inputs:{required:"required"},features:[V([Fi]),M]});let i=e;return i})();var Ai={provide:te,useExisting:j(()=>Le),multi:!0},Le=(()=>{let e=class e extends He{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=de,this.createValidator=t=>ti}enabled(t){return t}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=Z(e)))(o||e)}})(),e.\u0275dir=b({type:e,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[V([Ai]),M]});let i=e;return i})(),Ii={provide:te,useExisting:j(()=>$e),multi:!0},$e=(()=>{let e=class e extends He{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>wi(t),this.createValidator=t=>ii(t)}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=Z(e)))(o||e)}})(),e.\u0275dir=b({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(n,o){n&2&&Oe("minlength",o._enabled?o.minlength:null)},inputs:{minlength:"minlength"},features:[V([Ii]),M]});let i=e;return i})();var Oi=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=se({type:e}),e.\u0275inj=oe({imports:[Si]});let i=e;return i})();var z=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:Ue,useValue:t.callSetDisabledState??Be}]}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=se({type:e}),e.\u0275inj=oe({imports:[Oi]});let i=e;return i})();var Ee=(()=>{let e=class e{constructor(){this.searchResultsSubject=new k([]),this.searchResults$=this.searchResultsSubject.asObservable()}updateSearchResults(t){this.searchResultsSubject.next(t)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var xi=()=>["/favoris"];function Pi(i,e){if(i&1){let r=le();Xe(0,6),a(1,"div",7)(2,"button",8),l(3,"Favoris"),s(),a(4,"button",9),p("click",function(){q(r);let n=Qe();return K(n.signOut())}),l(5,"Sign Out"),s()(),Ye()}i&2&&(d(2),m("routerLink",Pe(1,xi)))}var Ni=()=>["/sign"];function ki(i,e){i&1&&(a(0,"button",8),l(1,"Sign In"),s()),i&2&&m("routerLink",Pe(1,Ni))}var xt=(()=>{let e=class e{constructor(t,n){this.searchService=t,this.tmdbService=n,this.searchEmitter=new T,this.query="",this.searchResults=[]}ngOnInit(){sessionStorage.getItem("signedIn")==="true"?this.signedIn=!0:this.signedIn=!1,console.log("signedIn",this.signedIn)}searchMovies(){this.tmdbService.searchMovies(this.query).subscribe(t=>{this.searchResults=t.results,this.searchService.updateSearchResults(this.searchResults)},t=>{console.error("Error fetching movies:",t)})}signOut(){sessionStorage.removeItem("userid"),sessionStorage.setItem("signedIn","false"),setTimeout(()=>{location.reload()},100)}};e.\u0275fac=function(n){return new(n||e)(u(Ee),u(S))},e.\u0275cmp=g({type:e,selectors:[["app-navbar"]],inputs:{signedIn:"signedIn"},outputs:{searchEmitter:"searchEmitter"},standalone:!0,features:[V([S]),v],decls:8,vars:3,consts:[[1,"navbar"],[1,"navbar-brand"],[1,"search-bar"],["type","text","placeholder","Search movies...",3,"ngModel","ngModelChange","input"],["class","btn-toolbar",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"btn-toolbar"],[1,""],[1,"btn",3,"routerLink"],[1,"btn",3,"click"]],template:function(n,o){if(n&1&&(a(0,"nav",0)(1,"div",1),l(2,"movie-app"),s(),a(3,"div",2)(4,"input",3),p("ngModelChange",function(c){return o.query=c})("input",function(){return o.searchMovies()}),s()(),E(5,Pi,6,2,"ng-container",4)(6,ki,2,2,"ng-template",null,5,tt),s()),n&2){let h=X(7);d(4),m("ngModel",o.query),d(1),m("ngIf",o.signedIn)("ngIfElse",h)}},dependencies:[me,z,x,$,G,y,ce],styles:[".navbar[_ngcontent-%COMP%]{background-color:#dadada85;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;padding:.5rem 2rem;-webkit-backdrop-filter:blur(.5rem);backdrop-filter:blur(.5rem);position:fixed;top:0;width:100%;z-index:100}.btn[_ngcontent-%COMP%]{padding:.3rem 1.5rem;background-color:#0850268f;color:#f0f8ff;font-weight:600;margin-right:.5rem}.btn[_ngcontent-%COMP%]:hover{background-color:#085026a9}"]});let i=e;return i})();function ji(i,e){if(i&1&&f(0,"app-film-item",6),i&2){let r=e.$implicit;m("film",r)}}var Pt=(()=>{let e=class e{constructor(t,n){this.searchService=t,this.tmdbService=n}ngOnInit(){this.getFilms(),this.searchService.searchResults$.subscribe(t=>{this.searchResults=t,this.updateDisplayedFilms()})}getFilms(){this.tmdbService.getAllMovies().subscribe(t=>{this.films=t.results},t=>{console.error(t)})}performSearch(t){console.log("Performing search for:",t)}updateDisplayedFilms(){this.films=this.searchResults.length>0?this.searchResults:this.films}};e.\u0275fac=function(n){return new(n||e)(u(Ee),u(S))},e.\u0275cmp=g({type:e,selectors:[["app-list-film"]],standalone:!0,features:[v],decls:6,vars:1,consts:[[1,"wrapper"],[1,"nav-conatainer"],[3,"searchEmitter"],[1,"container-fluid","debug"],[1,"row","r","row-cols-3"],[3,"film",4,"ngFor","ngForOf"],[3,"film"]],template:function(n,o){n&1&&(a(0,"div",0)(1,"div",1)(2,"app-navbar",2),p("searchEmitter",function(c){return o.performSearch(c)}),s()(),a(3,"div",3)(4,"div",4),E(5,ji,1,1,"app-film-item",5),s()()()),n&2&&(d(5),m("ngForOf",o.films))},dependencies:[y,B,fe,xt],styles:[".container-fluid[_ngcontent-%COMP%]{padding-top:2rem;background:linear-gradient(135deg,#005f30,rgb(0,33,65));width:100%;background-attachment:fixed}.r[_ngcontent-%COMP%]{padding:1rem 0}.nav-container[_ngcontent-%COMP%]{position:fixed;top:0;width:100%}.wrapper[_ngcontent-%COMP%]{position:absolute;top:0}"]});let i=e;return i})();var Nt=(()=>{let e=class e{constructor(){this.title="movies-app"}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=g({type:e,selectors:[["app-root"]],standalone:!0,features:[v],decls:1,vars:0,template:function(n,o){n&1&&f(0,"router-outlet")},dependencies:[y,O]});let i=e;return i})();var P=(()=>{let e=class e{updateSharedValue(t){this.sharedValueSource.next(t)}constructor(t){this.http=t,this.apiUrl="https://localhost:8080",this.messageSource=new k(""),this.sharedValueSource=new k("gfchvjb"),this.sharedValue$=this.sharedValueSource.asObservable()}signUp(t){return console.log("Adding user:",t),this.http.post("http://localhost:8080/signup",t)}signIn(t){return console.log(" user:",t),this.http.post("http://localhost:8080/signin",{fullName:"a",email:t.email,password:t.password})}};e.\u0275fac=function(n){return new(n||e)(F(I))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var W=(()=>{let e=class e{constructor(t,n){this.http=t,this.authService=n,this.apiUrl="http://localhost:8080"}getAllFilms(t){return this.http.post("http://localhost:8080/get",t)}addFilmToFavorites(t,n){return console.log("Adding film to favorites:",t.id),this.http.post("http://localhost:8080/add",{filmid:t.id,user:n})}getFilm(t,n){return this.http.post("http://localhost:8080/getfilm",{filmid:n,user:t}).subscribe(o=>{console.log(o)}),!1}};e.\u0275fac=function(n){return new(n||e)(F(I),F(P))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var N=(()=>{let e=class e{constructor(){this.sharedValueSource=new k("Initial Value"),this.sharedValue$=this.sharedValueSource.asObservable()}updateSharedValue(t){this.sharedValueSource.next(t),console.log("updateSharedValue",t),console.log("updateSharedValue",this.sharedValueSource),console.log("updateSharedValue",this.sharedValue$),this.data=t}getSharedValue(){return console.log("getSharedValue",this.data),this.sharedValue$}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var we=(()=>{let e=class e{constructor(t){this.http=t,this.baseUrl="http://localhost:8080"}addComment(t){return this.http.post(`${this.baseUrl}/comments/add`,t)}getCommentsByFilmId(t){return this.http.post(`${this.baseUrl}/comments/get`,{filmid:t})}};e.\u0275fac=function(n){return new(n||e)(F(I))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Ti(i,e){if(i&1&&(a(0,"div",14)(1,"div",15)(2,"h5",16),l(3),s(),a(4,"h6",17),l(5),s(),a(6,"p",18),l(7),s()()()),i&2){let r=e.$implicit;d(3),D(r.user),d(2),D(r.email),d(2),D(r.comment)}}var Ut=(()=>{let e=class e{constructor(t,n){this.commentService=t,this.route=n,this.filmId=0,this.newComment={user:"",email:"",comment:"",filmid:this.filmId},this.comments=[]}onSubmit(){this.route.params.subscribe(t=>{let n=parseInt(t.id);this.newComment.filmid=n}),this.commentService.addComment(this.newComment).subscribe(t=>{console.log("Added comment:",t),setTimeout(()=>{location.reload()},100)},t=>{console.error("Error adding comment:",t)})}};e.\u0275fac=function(n){return new(n||e)(u(we),u(he))},e.\u0275cmp=g({type:e,selectors:[["app-comments"]],inputs:{filmId:"filmId",comments:"comments"},standalone:!0,features:[v],decls:21,vars:4,consts:[[1,"container"],[1,"my-4",3,"ngSubmit"],[1,"form-group"],["for","name"],["type","text","id","name","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","comment"],["id","comment","name","comment","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary"],[1,"row"],[1,"title"],[1,""],["class","card mb-3",4,"ngFor","ngForOf"],[1,"card","mb-3"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle","mb-2","text-muted"],[1,"card-text"]],template:function(n,o){n&1&&(a(0,"div",0)(1,"form",1),p("ngSubmit",function(){return o.onSubmit()}),a(2,"div",2)(3,"label",3),l(4,"Name:"),s(),a(5,"input",4),p("ngModelChange",function(c){return o.newComment.user=c}),s()(),a(6,"div",2)(7,"label",5),l(8,"Email:"),s(),a(9,"input",6),p("ngModelChange",function(c){return o.newComment.email=c}),s()(),a(10,"div",2)(11,"label",7),l(12,"Comment:"),s(),a(13,"textarea",8),p("ngModelChange",function(c){return o.newComment.comment=c}),s()(),a(14,"button",9),l(15,"Submit"),s()(),a(16,"div",10)(17,"h1",11),l(18,"commets"),s(),a(19,"div",12),E(20,Ti,8,3,"div",13),s()()()),n&2&&(d(5),m("ngModel",o.newComment.user),d(4),m("ngModel",o.newComment.email),d(4),m("ngModel",o.newComment.comment),d(7),m("ngForOf",o.comments))},dependencies:[y,B,z,Me,x,$,Ve,ne,G,ie],styles:[".container[_ngcontent-%COMP%]{padding:5rem}label[_ngcontent-%COMP%]{color:#f0f8ff;padding:.5rem}textarea[_ngcontent-%COMP%]{width:100%;height:10rem;border-radius:.5rem;border:1px solid #ccc;padding:.5rem;margin-bottom:1rem}button[_ngcontent-%COMP%]{padding:.5rem 2rem;background-color:gold;border:none;font-weight:700;color:#000}button[_ngcontent-%COMP%]:hover{background-color:#c49c00;cursor:pointer}.title[_ngcontent-%COMP%]{color:#f0f8ff;font-size:1.5rem;font-weight:700;padding:.5rem;text-align:center;text-transform:capitalize}h5[_ngcontent-%COMP%]{color:#007531;font-size:1.2rem;font-weight:700;text-transform:capitalize}h6[_ngcontent-%COMP%]{color:#007531;font-size:.8rem;font-weight:700;padding-bottom:.5rem}p[_ngcontent-%COMP%]{color:#000;font-size:1rem;font-weight:700;padding:0 .5rem;text-transform:capitalize}"]});let i=e;return i})();function Gi(i,e){i&1&&(a(0,"p",9),l(1,"+18 ans"),s())}function Ri(i,e){i&1&&(a(0,"p",9),l(1,"+10 ans"),s())}var Bt=(()=>{let e=class e{constructor(t,n,o,h,c){this.route=t,this.tmdbService=n,this.favoriesService=o,this.sharedService=h,this.commentService=c,this.comments=[]}ngOnInit(){this.route.params.subscribe(t=>{let n=parseInt(t.id);this.filmid=n,this.tmdbService.getMovieById(n).subscribe(o=>{this.film=o})}),this.getComments()}addFilmToFavorites(t){if(console.log("Adding film to favorites:",t),!t){console.error("No film provided!");return}let n=sessionStorage.getItem("userid");if(!n){console.error("No userid found in sessionStorage!");return}this.favoriesService.addFilmToFavorites(t,n).subscribe(o=>{console.log("Added film to favorites:",o)})}getComments(){console.log("Fetching comments for film ID:",this.filmid),this.commentService.getCommentsByFilmId(this.filmid).subscribe(t=>{console.log("Comments for film ID",this.filmid,":",t),this.comments=t},t=>{console.error("Error fetching comments:",t)})}};e.\u0275fac=function(n){return new(n||e)(u(he),u(S),u(W),u(N),u(we))},e.\u0275cmp=g({type:e,selectors:[["app-film-description"]],inputs:{film:"film"},standalone:!0,features:[V([W,P,N]),v],decls:37,vars:10,consts:[[1,"container-fluid"],[1,"row","film-container"],[1,"col-4"],["alt","...",1,"film-img",3,"src"],[1,"btn","btn-primary","favoris",3,"click"],[1,"col","film-info"],[1,"film-title"],[1,"row"],[1,"col-3","film-desc-title"],[1,"col","film-desc-value"],["class","col film-desc-value",4,"ngIf"],[3,"filmId","comments"]],template:function(n,o){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2),f(3,"img",3),a(4,"div")(5,"button",4),p("click",function(){return o.addFilmToFavorites(o.film)}),l(6," add to favoris "),s()()(),a(7,"div",5)(8,"h1",6),l(9),s(),a(10,"div",7)(11,"h2",8),l(12,"overview"),s(),a(13,"p",9),l(14),s()(),a(15,"div",7)(16,"h2",8),l(17,"Date release"),s(),a(18,"p",9),l(19),s()(),a(20,"div",7)(21,"h2",8),l(22,"Rate"),s(),a(23,"p",9),l(24),s()(),a(25,"div",7)(26,"h2",8),l(27,"language"),s(),a(28,"p",9),l(29),s()(),a(30,"div",7)(31,"h2",8),l(32,"age"),s(),E(33,Gi,2,0,"p",10)(34,Ri,2,0,"p",10),s()()(),f(35,"app-comments",11),s(),f(36,"router-outlet")),n&2&&(d(3),ue("src","https://image.tmdb.org/t/p/w200",o.film==null?null:o.film.poster_path,"",ae),d(6),D(o.film==null?null:o.film.title),d(5),D(o.film==null?null:o.film.overview),d(5),D(o.film==null?null:o.film.release_date),d(5),D(o.film==null?null:o.film.vote_average),d(5),D(o.film==null?null:o.film.original_language),d(4),m("ngIf",o.film==null?null:o.film.adult),d(1),m("ngIf",!(o.film!=null&&o.film.adult)),d(1),m("filmId",(o.film==null?null:o.film.id)||0)("comments",o.comments))},dependencies:[y,ce,O,Ut],styles:[".container-fluid[_ngcontent-%COMP%]{background:linear-gradient(135deg,#005f30,rgb(0,33,65));width:100%;height:100%;background-attachment:fixed;padding:3rem 2rem}.film-container[_ngcontent-%COMP%]{height:100%;width:100%;padding:3rem 1rem}.film-img[_ngcontent-%COMP%]{position:relative;height:90%;left:50%;transform:translate(-50%);border-radius:.3rem;box-shadow:0 0 .5rem #000}.film-info[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;padding:1rem 3rem;background-color:#f0f0f044;border-radius:.3rem;box-shadow:0 0 .5rem #000;-webkit-backdrop-filter:blur(.5rem);backdrop-filter:blur(.5rem)}.film-title[_ngcontent-%COMP%]{color:#f0f0f0;text-shadow:0 0 .5rem rgb(255,255,255);font-size:2rem;font-weight:700;padding:1rem 0;text-align:center;text-transform:capitalize}.film-desc[_ngcontent-%COMP%]{width:100%;position:relative;left:50%;transform:translate(-50%)}.film-desc-title[_ngcontent-%COMP%]{color:#f0f0f0;font-size:1.2rem;font-weight:700;padding:.2rem 0;text-align:justify;text-transform:capitalize}.film-desc-value[_ngcontent-%COMP%]{color:#f0f0f0;font-size:1rem;font-weight:400;padding:.2rem 0;text-align:justify;text-transform:capitalize}.favoris[_ngcontent-%COMP%]{background-color:red;position:relative;left:50%;top:1.5rem;transform:translate(-50%);border:none;transition:all .3s ease-in-out}.favoris[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#e3e3e4a1;color:red;transition:all .3s ease-in-out}"]});let i=e;return i})();var Ht=(()=>{let e=class e{constructor(t,n,o){this.router=t,this.authService=n,this.sharedService=o}onSignUp(t){t.valid&&this.authService.signUp(t.value).subscribe(n=>{console.log("Inscription r\xE9ussie:",n)},n=>{console.error("Erreur lors de l'inscription:",n)})}onSignIn(t){t.valid&&this.authService.signIn(t.value).subscribe(n=>{n.status===200&&this.router.navigate(["/display-movies"])},n=>{n.status===200&&(this.router.navigate(["/display-movies"]),sessionStorage.setItem("userid",t.value.email),sessionStorage.setItem("signedIn","true")),console.error("Erreur lors de l'inscription:",n)})}};e.\u0275fac=function(n){return new(n||e)(u(lt),u(P),u(N))},e.\u0275cmp=g({type:e,selectors:[["app-sign"]],standalone:!0,features:[V([P,N]),v],decls:39,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col","pad"],[1,"card"],[1,"title"],[3,"ngSubmit"],["signInForm","ngForm"],["for","email"],["type","email","id","email","name","email","ngModel","","required","","email",""],["for","password"],["type","password","id","password","name","password","ngModel","","required",""],["type","submit"],["signUpForm","ngForm"],["for","fullName"],["type","text","id","fullName","name","fullName","ngModel","","required",""],["type","password","id","password","name","password","ngModel","","required","","minlength","6"]],template:function(n,o){if(n&1){let h=le();a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),l(5," sign-in"),s(),a(6,"form",5,6),p("ngSubmit",function(){q(h);let w=X(7);return K(o.onSignIn(w))}),a(8,"div")(9,"label",7),l(10,"Email:"),s(),f(11,"input",8),s(),a(12,"div")(13,"label",9),l(14,"Password:"),s(),f(15,"input",10),s(),a(16,"button",11),l(17,"Sign In"),s()()()(),a(18,"div",2)(19,"div",3)(20,"h1",4),l(21," sign-up"),s(),a(22,"form",5,12),p("ngSubmit",function(){q(h);let w=X(23);return K(o.onSignUp(w))}),a(24,"div")(25,"label",13),l(26,"Full Name:"),s(),f(27,"input",14),s(),a(28,"div")(29,"label",7),l(30,"Email:"),s(),f(31,"input",8),s(),a(32,"div")(33,"label",9),l(34,"Password:"),s(),f(35,"input",15),s(),a(36,"button",11),l(37,"Sign Up"),s()()()()()(),f(38,"router-outlet")}},dependencies:[y,O,z,Me,x,$,Ve,ne,$e,Le,G,ie],styles:[".container-fluid[_ngcontent-%COMP%]{padding:2rem;background:linear-gradient(135deg,#005f30,rgb(0,33,65));width:100%;background-attachment:fixed;height:100vh}.card[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;padding:1rem 3rem;background-color:#f0f0f044;border-radius:.3rem;box-shadow:0 0 .5rem #000;-webkit-backdrop-filter:blur(.5rem);backdrop-filter:blur(.5rem)}.pad[_ngcontent-%COMP%]{padding:1rem}label[_ngcontent-%COMP%]{font-size:1rem;color:#fff;text-transform:capitalize;font-weight:500}input[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:.3rem;padding:.1rem .5rem;font-size:1rem;color:#333;width:100%;margin-bottom:1rem}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 .2rem #007bff80}button[type=submit][_ngcontent-%COMP%]{background:#005f30;color:#fff;padding:.3rem 2rem;border:none;border-radius:.3rem;font-size:1rem;cursor:pointer}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#005f30bb}button[type=submit][_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 .2rem #007bff80}.title[_ngcontent-%COMP%]{color:#f0f0f0;text-shadow:0 0 .5rem rgb(255,255,255);font-size:2rem;font-weight:700;padding:1rem 0;text-align:center;text-transform:capitalize}"]});let i=e;return i})();function Ui(i,e){if(i&1&&f(0,"app-film-item",5),i&2){let r=e.$implicit;m("film",r)("isFav",!0)}}var Lt=(()=>{let e=class e{constructor(t,n){this.tmdbService=t,this.favorisService=n,this.films=[]}ngOnInit(){this.getFilms()}getFilms(){let t=sessionStorage.getItem("userid"),n;t&&this.favorisService.getAllFilms(t).subscribe(o=>{console.log("List of users:",o);let h;for(let c=0;c<o.length;c++)this.tmdbService.getMovieById(o[c].filmid).subscribe(w=>{this.films.push(w)},w=>{console.error("Error occurred while fetching film details:",w)})},o=>{console.error("Error occurred:",o)})}performSearch(t){console.log("Performing search for:",t)}updateDisplayedFilms(){this.films=this.searchResults.length>0?this.searchResults:this.films}};e.\u0275fac=function(n){return new(n||e)(u(S),u(W))},e.\u0275cmp=g({type:e,selectors:[["app-favoris"]],standalone:!0,features:[v],decls:5,vars:1,consts:[[1,"wrapper"],[1,"nav-conatainer"],[1,"container-fluid","debug"],[1,"row","r","row-cols-3"],[3,"film","isFav",4,"ngFor","ngForOf"],[3,"film","isFav"]],template:function(n,o){n&1&&(a(0,"div",0),f(1,"div",1),a(2,"div",2)(3,"div",3),E(4,Ui,1,2,"app-film-item",4),s()()()),n&2&&(d(4),m("ngForOf",o.films))},dependencies:[y,B,fe],styles:[".container-fluid[_ngcontent-%COMP%]{background:linear-gradient(135deg,#005f30,rgb(0,33,65));width:100%;height:100vh;background-attachment:fixed;padding:3rem 2rem}"]});let i=e;return i})();var $t=[{path:"",redirectTo:"display-movies",pathMatch:"full"},{path:"display-movies",component:Pt},{path:"display-movies/:id",component:Bt},{path:"sign",component:Ht},{path:"favoris",component:Lt},{path:"**",redirectTo:"display-movies"}];var zt={providers:[ut($t),st(),nt(rt())]};var Bi={providers:[at()]},Wt=it(zt,Bi);var Hi=()=>ot(Nt,Wt),yr=Hi;export{yr as a};
